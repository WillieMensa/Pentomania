<!DOCTYPE html>
<html lang="es">
<head>
	<meta charset="ISO-8859-1">
	<title>PROBLEMAS PENTOMANIA</title>
	<meta name="description" content="PENTOMANIA">
	<meta name="keywords" content="Lógica, Rompecabezas, representación gráfica, Desarrollo,Sistemas de Representación,CAD 3D, dibujo tecnico,elipses,empalmes,geometria descriptiva, ingenio, proyecciones, vistas">


	<style>
		body {
		background: white;
		margin-right: 100px;
		margin-left: 100px;
		padding-left: 20px;
		padding-right: 20px;
		padding-top: 20px;
		max-width: 1000px;
	}

	</style>

</head>

<body onload="init()">

<div class="container">
	<!-- Contenido de la pagina -->
	<a name="TopOfPage"></a>


	<div class="imprimir" id="imprimir" style="background-color:#bdf" >

		<!-- <object id="svg-object" data="hoja_problemas.svg" type="image/svg+xml"></object> -->

		<svg
			xmlns="http://www.w3.org/2000/svg"
			viewBox="0 0 790 1120"
			id = "pagina">

			<style>

				@import url("https://fonts.googleapis.com/css?family=Luckiest+Guy");
				@import url("https://fonts.googleapis.com/css?family=Roboto:700");

				.small { font-family: "Roboto"; font-size: 12px; }
				.heavy { font-family: "Luckiest Guy"; font-size: 20px; }	<!-- fill: #888 } -->

				.trazofino { fill:white; stroke:#33f;stroke-width:1;opacity:1.0; }
				.auxiliar { fill:white; stroke:#888;stroke-width:1;opacity:0.5; }
				.marco { fill:white; stroke:#566721; stroke-width:10; opacity:1.0; }

				.normal { font-family: "Passion One"; font-size: 16px; }
				.valor { font-family: "Luckiest Guy"; font-size: 24px; fill:#333; font: bold; dominant-baseline: central; text-anchor: middle;}

				.title { font: bold 20px sans-serif; }


			</style>


			<rect width ="208mm" height= "296mm" x="0" y="0" fill="#fff" class="trazofino"/>
			<!-- separador horizontal -->
			<line x1="0" y1="560" x2="790" y2="560" class="trazofino" transform="translate(000, 000)"/>
			<!-- separador vertical -->
			<line x1="395" y1="000" x2="395" y2="1120" class="trazofino" transform="translate(000, 000)"/>

			<g id="trazado00" transform="translate(0,0)">
				<text
					x="52mm"
					y="18mm"
					id="txtTitulo"
					class = "heavy"
					text-anchor="middle">Problema Nro.
						<tspan dx="6" dy="0" id="nroProblema" >0</tspan>
				</text>

				<image href="images/problema_001.jpg" x="8.0mm" y="30mm" height="90mm" width="90mm"/>

				<text
					x="52mm"
					y="135mm"
					id="txtPie"
					class = "small"
					text-anchor="middle">PENTOMANIA by Willie Verger Clever Games
				</text>

			</g>

			<g id="trazado10" transform="translate(395,0)">
				<text
					x="52mm"
					y="18mm"
					id="txtTitulo"
					class = "heavy"
					text-anchor="middle">Problema Nro.
						<tspan dx="6" dy="0" id="nroProblema" >0</tspan>
				</text>

				<!-- ahora el tablero -->
				<image href="images/problema_001.jpg" x="8.0mm" y="30mm" height="90mm" width="90mm"/>

				<text
					x="52mm"
					y="135mm"
					id="txtPie"
					class = "small"
					text-anchor="middle">PENTOMANIA by Willie Verger Clever Games
				</text>

			</g>


			<g id="trazado01" transform="translate(0,560)">
				<text
					x="52mm"
					y="18mm"
					id="txtTitulo"
					class = "heavy"
					text-anchor="middle">Problema Nro.
						<tspan dx="6" dy="0" id="nroProblema" >0</tspan>
				</text>

				<!-- ahora el tablero -->
				<image href="images/problema_001.jpg" x="8.0mm" y="30mm" height="90mm" width="90mm"/>

				<text
					x="52mm"
					y="135mm"
					id="txtPie"
					class = "small"
					text-anchor="middle">PENTOMANIA by Willie Verger Clever Games
				</text>

			</g>


			<g id="trazado11" transform="translate(395,560)">
				<text
					x="52mm"
					y="18mm"
					id="txtTitulo"
					class = "heavy"
					text-anchor="middle">Problema Nro.
						<tspan dx="6" dy="0" id="nroProblema" >0</tspan>
				</text>

				<!-- ahora el tablero -->
				<image href="images/problema_001.jpg" x="8.0mm" y="30mm" height="90mm" width="90mm"/>

				<text
					x="52mm"
					y="135mm"
					id="txtPie"
					class = "small"
					text-anchor="middle">PENTOMANIA by Willie Verger Clever Games
				</text>

			</g>

			<!-- salto de pagina -->

		</svg>


	</div>



	<!-- el proximo script contiene const problemas, array en formato json -->
	<script type="text/javascript" src="problemas.json"></script>
	<!-- <script src="polyomino4.js"></script> -->


	<!-- inicio de los scripts -->
	<script type="text/javascript">

		//	console.log(problemas);

		const	
			//	DEBUG = false;
			DEBUG = true;

		var nProblema	= 1,
			svgObject = undefined;



		function init() {
			if (DEBUG){
				console.log('dibujando grilla');
				DibujaGrillaA4();
			}

			GenProblema(1);

		};

		
		function recorrerObjeto(objeto)
		{
			var respuesta="";
			for (var i in objeto)
			{
				respuesta+=i+": "+objeto[i]+"<br>";
			}
			return respuesta
		}



		function DibujaGrillaA4() {
			//	dibujar grilla A4 de fondo
			const	
				ANCHO = 205, 
				ALTO = 295,
				PASO = 10;

			var svgObject = document.getElementById('svg-object');

			//	lineas horizontales
			var i = PASO;
			while ( i<ALTO ) {
				var lElement = document.createElementNS('http://www.w3.org/2000/svg', 'line');
				lElement.setAttributeNS(null, 'x1', 0);
				lElement.setAttributeNS(null, 'y1', (i) + 'mm' );
				lElement.setAttributeNS(null, 'x2', (ANCHO) + 'mm');
				lElement.setAttributeNS(null, 'y2', (i) + 'mm' );
				lElement.setAttributeNS(null, 'class', 'auxiliar');
				svgObject.appendChild(lElement);			

				i += PASO;
			}

			//	lineas horizontales
			i = PASO;
			while ( i < ANCHO ) {
				var lElement = document.createElementNS('http://www.w3.org/2000/svg', 'line');
				lElement.setAttributeNS(null, 'x1', (i) + 'mm' );
				lElement.setAttributeNS(null, 'y1', 0);
				lElement.setAttributeNS(null, 'x2', (i) + 'mm' );
				lElement.setAttributeNS(null, 'y2', (ALTO) + 'mm');
				lElement.setAttributeNS(null, 'class', 'auxiliar');
				svgObject.appendChild(lElement);			

				i += PASO;
			}

		}


	function GenProblema(nProblema) {
		//	nProblema = 1;

		//	trato de acceder al documento SVG
		
		//	var svgObject = document.getElementById('svg-object');		//	.contentDocument;
		var svgObject = document.getElementById("svg-object").getSVGDocument()
    console.log(svgObject);

		//	var svg = svgObject.getElementById('svg-object-00');
		var svg = document.getElementsByTagName('svg')[0];
		//	var svg = svgObject.getElementById('svg-object-00').contentDocument;
		//	var svg = document.getElementById('svg-object-00').contentDocument;
		//	var svg = document.getElementById('svg-object-00');
    console.log(svg);

    var dwgObject00 = document.getElementById('svg-object-00');
    //	var dwgObject00 = document.getElementById('svg-object-00').contentDocument;
    console.log('dwgObject00: ');
    console.log(dwgObject00);

	  var objTrazado = document.getElementById('trazado');
    console.log(objTrazado);

    //	var dwgObject00 = document.getElementById('svg-object-00').contentDocument;
    //	console.log(dwgObject00);

	  var nro = dwgObject00.getElementById('nroProblema');

		var textNode = nro.childNodes[0];
		textNode.nodeValue = nProblema;
		console.log ( textNode );

		//	element.setAttributeNS(null, 'y', y + 10);

		//	textNode.nodeValue = aSumaPolig[i] ;

    //	console.log(dwgProblema);
    //	svgTitulo.setAttributeNS(null, 'x', 5900);
    //	svgTitulo.setAttributeNS(null, 'y', 0);

    pagina = document.getElementById('pagina');
		pagina.appendChild(dwgProblema);
		console.log(pagina);


	}




	//-------------------------------------------------
	//	funciones exclusivas para depuracion
	//-------------------------------------------------
	function mostrarPropiedades(objeto, nombreObjeto) {
		//	https://developer.mozilla.org/es/docs/Web/JavaScript/Guide/Trabajando_con_objectos

		var resultado = "";
		for (var i in objeto) {
			//	if (objeto.hasOwnProperty(i)) {
				resultado += nombreObjeto + "." + i + " = " + objeto[i] + "\n";
			//	}
		}
		return resultado;
	}


	</script>

	<hr class="grosa">
	<!-- fin contenido -->
</div>

</body>
</html>

